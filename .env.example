# ===================================================================
# ENVIRONMENT TEMPLATE FOR DOCUMENT PROCESSING MICROSERVICE
# ===================================================================
# Copy this file to .env and fill in your actual values

# Application Settings
APP_NAME=document-processing-microservice
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# Supabase Configuration (REQUIRED)
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here
DATABASE_URL=postgresql://user:password@host:port/database

# JWT Settings (REQUIRED)
SECRET_KEY=your-secure-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# OpenAI API Configuration (REQUIRED)
OPENAI_API_KEY=sk-proj-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com

# Background Processing
JOB_POLLING_INTERVAL=5

# File Upload Settings
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=["pdf","docx","txt","md"]
TEMP_UPLOAD_DIR=/tmp/document_uploads

# Chunking Configuration
CHUNK_SIZE_MIN=1000
CHUNK_SIZE_MAX=1500
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=1000

# Embedding Configuration
EMBEDDING_BATCH_SIZE=100
EMBEDDING_MAX_RETRIES=3
EMBEDDING_RETRY_DELAY=1
EMBEDDING_DIMENSION=1536

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_UPLOAD_PER_HOUR=100

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
LOG_LEVEL=INFO
LOG_FORMAT=json

# Security
FILE_SCAN_ENABLED=true
VIRUS_SCAN_ENABLED=false
INPUT_SANITIZATION=true